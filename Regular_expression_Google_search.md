# 正規表現

[サルにもわかる正規表現入門](https://userweb.mnet.ne.jp/nakama/)  
[基本的な正規表現一覧](https://murashun.jp/blog/20190215-01.html)  
[正規表現チェッカー](https://weblabo.oscasierra.net/tools/regex/)  
[[正規表現] .*?は最短マッチではない](https://qiita.com/anqooqie/items/191ad215e93237c77811)  
[正規表現を可視化してくれるサイト](https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24)  enum abc{A, abc, B} enum\s+(\S+)\s*:?.*\{
[正規表現における$1を使った部分置換の方法](https://uxmilk.jp/50944)  
[複数行にまたがる処理](https://qiita.com/officemove/items/a6caa20c978197eaff50)  

## 考察

- 正規表現は、文字列と正規表現からその文字列の部分文字列を検索する。  
"xx...x" `Search` "aa.*" => "xxx", "xxxx", .."xx"  

- 正規表現の最左の文字からマッチしているか検証する  

- W(indows|INDOWS) ?９[８５]

正規表現のメタ文字は、文脈キーワード(contextual keyword)のような挙動をし、メタ文字として機能する状況ではメタ文字となり機能しない場合は普通の文字となる。  
  メタ文字として機能する状況で普通の文字として扱いたい場合はエスケープ(\\)する。  
  
## 言語表現との対応  

文字に作用するメタ文字(^\$[\]?+*{,})と文字列に作用するメタ文字(|)がある。"()"で囲めば"[]"以外はどっちでも作用する  
範囲があるメタ文字(?*+{,})の後に"?"を付けると最短一致になる。  
  最長一致は範囲の上限にマッチしようとする。最短一致は下限に最左マッチ(AAAA {A+} => {AAAA} {A+?} => {A}, AABBCC {A(A|B)*?C} => {AABBC}))  
`{()} <=> {❰❱}`  
`{.} <=> {∫LChar∫}`  
`{ABC|DEF} <=> {⟪ABC¦DEF⟫}`  
`{^A} <=> {⟪_¦\n⟫A}`  
`{C$} <=> {C⟪_¦\n⟫}`  
`{A?} <=> {＠❰A❱}`  
`{A*} <=> {⟦～⟧❰A❱}`  
`{A+} <=> {⟦1～⟧❰A❱} <=> {A{1,}}`  
`{[ABC]} <=> {⟪A¦B¦C⟫}` "[]"のなかで"()"は使えない  
`{[^ABC]} <=> {∫LChar∫∸⟪A¦B¦C⟫}`  
`{[A-Z0-9]} => {⟪U+┃U+A～U+Z⟫∪⟪U+┃U+0～U+9⟫}`
`{A{2,4}} => {⟦2～4⟧A}`  
`{A{2,}} => {⟦2～⟧A}`  
`{A{2}} => {⟦┃2┃⟧A}`  

## メタ文字

- <A>青い</A>

- +<?>  
  - 最長一致: `<C>{<N>,<M>}`は`{<N>,<M>}`を満たす最長の文字列にマッチ  
  - 最短一致: `<C>{<N>,<M>}<?>`は`{<N>,<M>}`を満たす最短の文字列にマッチ❰☆❱  
        または、<?>の直後に現れる文字までマッチ  


\<C> == 文字?, \<S> ==文字列?❰☆❱  
| メタ文字                              | マッチ                                                |
| :------------------------------------ | :---------------------------------------------------- |
| `<\[<S>\]>|<\[<N>\-<M>\]>|<\[^<S>\]>` | \<S>の一文字づつ \| \<N>から\<M>までのASCII文字       |
|                                       | \| \<S>の一文字づつ以外の一文字づつ                   |
| `.`❰☆❱                                | . == [^] 任意の一文字                                 |
| `<C>{+<N>,+<M>}+<?>`                  | \<C>が\<N>から\<M>個の連続した文字。省略した場合{0,∞} |
| `<C>(<*>|<+>|<?>)+<?>`❰☆❱             | \<*> == {0,} \| \<+> == {1,} \| \<?> == {0,1}         |
| `^<S>`❰☆❱                             | \<S>から始まる文字列                                  |
| `<S>$`❰☆❱                             | \<S>で終わる文字列                                    |
| `<S1>|<S2>`❰☆❱                        | \<S1>または\<S2>の文字列                              |
| `\<M>`❰☆❱                             | メタ文字のエスケープシーケンス                        |
| `(<正規表現>)`❰☆❱                     | ただの正規表現の結合則括弧                            |

## Google検索演算子

[Google検索演算子](https://gigazine.net/news/20190128-google-advanced-search-operator/)

| 演算子       | 意味                                                          |
| :----------- | :------------------------------------------------------------ |
| `<S1> <S2>`  | AND検索                                                       |
| `<S1>|<S2>`  | OR検索                                                        |
| `()`         | `(<S1>|<S2>) <S3>` 論理演算括弧                               |
| `/-<S>`      | 検索から除外                                                  |
| `"<S>"`      | 完全一致                                                      |
| `<S1>*<S2>`  | ワイルドカード (`"<S1>"*"<S2>"`の方がいいかも?)               |
| `site:<URL>` | サイト内検索 (`site:https://www.nicovideo.jp "そんなばなな"`) |
| `define:<S>` | google辞書                                                    |
| `<N1>..<N2>` | 数字の範囲 (`"<N1>..<N2> +<S>"`じゃないと上手くいかない)      |
